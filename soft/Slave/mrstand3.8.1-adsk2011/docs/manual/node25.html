<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Light Mapping</title>
<meta http-equiv="content-type" content="text/html; charset=us-ascii" />
<meta name="author" content="mental images GmbH" />
<link href="mailto:office@mentalimages.com" rev="made" />
<link href="mental.css" rel="stylesheet" media="all" type="text/css" />
<link rel="shortcut icon" href="mentalicon.ico" type="image/x-icon" />
</head>
<body>
<ul class="nav">
<li><a href="index.html">home</a></li>
<li><a href="ibl.html">&laquo;&nbsp;prev</a></li>
<li><a href="node26.html">next&nbsp;&raquo;</a></li>
<li><a href="globalindex.html">index</a></li>
</ul>
<a id="SECTION23"></a>
<h2>Light Mapping</h2>
<p><a id="INDEX49"></a> Light mapping, also
sometimes called <b><a id="INDEX50"></a>texture
baking</b>, is a method for sampling an object before rendering and
storing the results for later use. The most common application
samples illumination for each point of a texture image wrapped
around the object, and stores that illumination in the texture.
Illumination is effectively frozen into the texture, which can
later be mapped onto an object in the conventional way.</p>
<p>The advantage is that rendering can obtain illumination quickly
from the frozen illumination, instead of computing it at rendering
time. This is especially valuable for
<a href="node80.html#INDEX259">indirect illumination</a>, which takes more
time to compute than direct illumination. Such textures, called
<a href="node25.html#INDEX49">light map</a>s, are also commonly
used in games.</p>
<p>Creating <a href="node25.html#INDEX49">light map</a> textures is
fundamentally different from regular textures because the texture
is written to disk, instead of read from disk. mental ray uses a
<tt>writable</tt> keyword in the scene file, and special
<a href="node25.html#INDEX49">light map</a>ping functions in the shader
interface to gain write access to the texture.</p>
<p>Light mapping in mental ray is very flexible, and implemented
with <a href="node135.html#INDEX501">lightmap shader</a>s. Lightmap
shaders are initially called once per object triangle vertex
("vertex mode"), and then once more for the entire objects ("output
mode"). The standard lightmap shader in the base shader library
uses the per-vertex calls to collect point and normal information,
which is then projected onto the texture during the final call,
which samples illumination for each pixel of the texture. Other
shaders could sample the illumination per vertex and use the final
call only for color interpolation; this may be useful for game
development using hardware vertex coloring but would create a very
low-fidelity <a href="node25.html#INDEX49">light map</a>.</p>
<p>Light mapping is enabled by attaching a
<a href="node135.html#INDEX501">lightmap shader</a> to the material of the
object to be lightmapped. mental ray always samples the entire
object even if the material is applied to only some parts of its
surface. If the shader requires it, the scene must provide an
appropriate texture projection.</p>
<ul class="nav">
<li><a href="index.html">home</a></li>
<li><a href="ibl.html">&laquo;&nbsp;prev</a></li>
<li><a href="node26.html">next&nbsp;&raquo;</a></li>
<li><a href="globalindex.html">index</a></li>
</ul>
<p><a href="copyright.html">Copyright</a> &copy; 1986-2010 by
<a href="http://www.mental.com">mental images GmbH</a></p>
</body>
</html>
