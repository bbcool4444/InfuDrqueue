<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Light Profiles</title>
<meta http-equiv="content-type" content="text/html; charset=us-ascii" />
<meta name="author" content="mental images GmbH" />
<link href="mailto:office@mentalimages.com" rev="made" />
<link href="mental.css" rel="stylesheet" media="all" type="text/css" />
<link rel="shortcut icon" href="mentalicon.ico" type="image/x-icon" />
</head>
<body>
<ul class="nav">
<li><a href="index.html">home</a></li>
<li><a href="node81.html">&laquo;&nbsp;prev</a></li>
<li><a href="node83.html">next&nbsp;&raquo;</a></li>
<li><a href="globalindex.html">index</a></li>
</ul>
<a id="SECTION80"></a>
<h3>Light Profiles</h3>
<p><a id="lightprofile"></a><a name="INDEX266"
id="INDEX266"></a><a id="INDEX267"></a></p>
<pre>
    lightprofile "<i>name</i>"  
        format ies  
        file "<i>filename</i>"  
        [ flags <i>flags</i><sub>int</sub> ]  
        [ hermite <i>degree</i><sub>int</sub> ]  
        [ resolution <i>xres</i><sub>int</sub> <i>yres</i><sub>int</sub> ]  
    end lightprofile  
</pre>
<p>Light profiles such as IES or Eulumdat are files supplied by
lamp vendors to describe their products. They contain a mesh of
measured light intensities. The light profile block in the scene
file allows loading a light profile file on disk, and converting
the data into an internal format that is efficient for lookup in
<a href="node120.html#INDEX471">light shader</a>s using the
<i><a href="node140.html#INDEX570">mi_lightprofile_sample</a></i>
(or <i><a href="node140.html#INDEX567">mi_lightprofile_value</a></i>)
<a href="node138.html#INDEX510">shader interface function</a>.</p>
<p>The only supported light profile format supported at this time
is IES and Eulumdat. Other formats such as CIBSE may be supported
in later versions of mental ray. The <tt>format</tt> statement may
not be omitted.</p>
<p>The <tt>file</tt> statement names the file supplied by the lamp
vendor.</p>
<p>The <tt>flags</tt> statement can be used to override the
horizontal sample order in an IES file. There are two IES file
types in common use, type B and type C. The IES standard defines
that samples are stored in counter-clockwise order. Type C files
conform to this standard, but about 30% of the type B files deviate
from the standard and store samples in clockwise order, without
giving any indication in the IES file that mental ray could use to
switch the order. (Sometimes there is an informal comment.) If
<i>flags</i> is 1, mental ray assumes clockwise order contrary to
the IES standard for these incorrect type B files. If <i>flags</i>
is 2, mental ray assumes the normal counter-clockwise order. Type A
IES files are not supported. Flags have no effect on Eulumdat light
profiles.</p>
<p>At this time only linear and cubic interpolation ( <tt>hermite
1</tt> or <tt>hermite 3</tt>) are supported. The
<tt>resolution</tt> statement defines the precision of this
interpolation by specifying the number of points on the smoothed
mesh; for linear interpolation it always matches the resolution of
the sample mesh in the profile file.</p>
<ul class="nav">
<li><a href="index.html">home</a></li>
<li><a href="node81.html">&laquo;&nbsp;prev</a></li>
<li><a href="node83.html">next&nbsp;&raquo;</a></li>
<li><a href="globalindex.html">index</a></li>
</ul>
<p><a href="copyright.html">Copyright</a> &copy; 1986-2010 by
<a href="http://www.mental.com">mental images GmbH</a></p>
</body>
</html>
