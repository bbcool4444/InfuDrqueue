<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Caustics</title>
<meta http-equiv="content-type" content="text/html; charset=us-ascii" />
<meta name="author" content="mental images GmbH" />
<link href="mailto:office@mentalimages.com" rev="made" />
<link href="mental.css" rel="stylesheet" media="all" type="text/css" />
<link rel="shortcut icon" href="mentalicon.ico" type="image/x-icon" />
</head>
<body>
<ul class="nav">
<li><a href="index.html">home</a></li>
<li><a href="node40.html">&laquo;&nbsp;prev</a></li>
<li><a href="node42.html">next&nbsp;&raquo;</a></li>
<li><a href="globalindex.html">index</a></li>
</ul>

<a id="SECTION39"></a>
<h2>Caustics</h2>
<p>
<dfn id="INDEX86">Caustics</dfn> are light patterns
that are created when light from a light source illuminates a
diffuse surface via one or more specular reflections or
transmissions. Examples are:</p>
<ul>
<li>The light patterns created on the bottom of a swimming pool as
light is refracted by the water surface and reflected by the
diffuse pool bottom.</li>
<li>Light being focused by a glass of water onto a diffuse table
cloth.</li>
<li>The light emanating from the headlights of a car: the light is
emitted by the filament of a light bulb, reflected by a parabolic
mirror reflector (thereby being focused in the forward direction),
and reflected by the diffuse road surface.</li>
</ul>
<p>Caustics cannot be simulated efficiently using standard
<a href="node140.html#INDEX556">ray marching</a> since predicting the
potential specular paths to a light source from any given surface
is a difficult (and in many situations impossible) task. To
overcome this problem mental ray uses a <a href="node48.html#INDEX96">photon
map</a>. The photon map is generated
in a preprocessing step in which photons are emitted from the light
sources and traced through the scene using
<a href="node142.html#INDEX578">photon tracing</a>.</p>
<p>The emission of photons is controlled using either one of the
standard photon emitters for point lights, spot lights, directional
lights, and area lights, or by using a user defined
<a id="INDEX87"></a>photon emitting shader.</p>
<p>A photon leaving the light source can be reflected or
transmitted specularly by objects. The photon is traced through the
scene until it either hits a diffuse surface or until it has been
reflected or transmitted a maximum number of times as indicated by
the <a href="node76.html#INDEX206">photon trace depth</a>. When a
caustic photon hits a diffuse object it is stored in a caustic
<a href="node48.html#INDEX96">photon map</a> and not traced any
further.</p>
<p>To control the behavior of photons as they hit objects in the
scene, it is necessary to attach <b><a id="INDEX88"></a>photon material
shader</b>s to these objects. Photon
material shaders are similar to normal material shaders with the
main difference being that they trace the light in the opposite
direction. Also, a photon shader distributes energy (flux) instead
of collecting a color (radiance). Another important difference is
the fact that photon material shaders do not need to send
<a href="node117.html#INDEX463">light ray</a>s to sample the contribution
from the light sources in the scene.</p>
<p>In order to use the photon shaders, it is necessary to include
the appropriate shader declaration file, such as
<tt>physics.mi</tt> for physics-based material shaders and photon
shaders from the physics shader library in the standard
distribution.</p>
<p>To turn caustics on, specify <tt>caustic on</tt> in the
<tt>options</tt> or use the command-line option <tt>-caustic
on</tt>.</p>
<ul class="nav">
<li><a href="index.html">home</a></li>
<li><a href="node40.html">&laquo;&nbsp;prev</a></li>
<li><a href="node42.html">next&nbsp;&raquo;</a></li>
<li><a href="globalindex.html">index</a></li>
</ul>
<p><a href="copyright.html">Copyright</a> &copy; 1986-2010 by
<a href="http://www.mental.com">mental images GmbH</a></p>
</body>
</html>
